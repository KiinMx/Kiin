flowchart TB
    subgraph Presentation["ğŸ–¥ï¸ Capa de PresentaciÃ³n"]
        direction TB
        A["App Router Pages<br/>(generador, faq, contact, motivation)"]
        B["Components<br/>(Calendar, FilterSelector, NavBar, etc.)"]
        C["Widgets<br/>(SubjectsView, SchedulesView, CurrentSchedule)"]
    end

    subgraph Domain["ğŸ›ï¸ Capa de Dominio"]
        direction TB
        D["Entities<br/>(Course, Subject, Session, Schedule, etc.)"]
        E["Repository Interfaces<br/>(CoursesRepository, DegreesRepository, etc.)"]
        F["DataSource Interfaces<br/>(CoursesDataSource, DegreesDataSource, etc.)"]
        G["ScheduleGenerator<br/>(algoritmo core)"]
        H["Filters & Categories<br/>(CourseFilter, Category, DynamicCategory)"]
    end

    subgraph Infrastructure["âš™ï¸ Capa de Infraestructura"]
        direction TB
        I["Client DataSources<br/>(fetch API + localStorage cache)"]
        J["Repository Implementations<br/>(delegaciÃ³n a DataSource)"]
        K["Mapper<br/>(JSON â†’ clases de dominio)"]
        L["FilterImpl<br/>(pipeline de filtrado)"]
    end

    subgraph ServerData["ğŸ“Š Capa de Datos (Servidor)"]
        direction TB
        M["API Routes<br/>(/api/courses/all, /api/degrees/all, etc.)"]
        N["CoursesModelDAO<br/>(lectura Excel)"]
        O["Server Mappers<br/>(CourseMapper, SubjectMapper)"]
        P["initialLoad<br/>(orquestaciÃ³n)"]
    end

    subgraph External["â˜ï¸ Servicios Externos"]
        Q[("ğŸ“ Archivos Excel<br/>public/data/*.xlsx")]
        R[("ğŸ” Supabase<br/>(OAuth Google)")]
        S[("ğŸ“… Google Calendar API")]
    end

    A --> B & C
    B & C --> D & G & H
    G --> D
    H --> D
    J --> I
    I --> K
    I --> M
    L --> I
    M --> N & O & P
    N --> Q
    B --> R --> S
